
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
          /* Base reset */
          * { box-sizing: border-box; }
          /* User CSS */
          /* CSS Styling */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f0f4f8;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  color: #333;
}

.card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 500px;
  overflow: hidden;
  border: 1px solid #e1e8ed;
}

.header {
  background: linear-gradient(135deg, #4A90E2, #2196F3);
  color: white;
  padding: 24px;
  position: relative;
}

h1 {
  margin: 0;
  font-size: 24px;
  font-weight: 600;
}

.badge {
  background: rgba(255,255,255,0.2);
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 12px;
  position: absolute;
  top: 16px;
  right: 16px;
  font-weight: bold;
}

.content {
  padding: 24px;
}

ul {
  padding-left: 20px;
  line-height: 1.6;
  color: #555;
}

.primary-btn {
  background-color: #4A90E2;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.2s;
  display: block;
  width: 100%;
  margin-top: 20px;
}

.primary-btn:hover {
  background-color: #357ABD;
}

.output-text {
  margin-top: 16px;
  font-weight: 500;
  color: #2196F3;
  text-align: center;
  min-height: 24px;
}
        </style>
        <script>
            // Capture console.log to display in parent (Optional future enhancement, currently just preventing errors)
            window.onerror = function(message, source, lineno, colno, error) {
                console.error('Preview Error:', message);
            };
        </script>
      </head>
      <body>
        <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QPI Calculator</title>

<style>
:root {
    --primary: #0d6efd;
    --bg: #f4f6f8;
}

* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background: var(--bg);
    padding: 15px;
    margin: 0;
}

.container {
    max-width: 1000px;
    margin: auto;
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

h1, h2 {
    text-align: center;
    margin-bottom: 10px;
}

.menu {
    text-align: center;
    margin-bottom: 15px;
}

select, input, button {
    padding: 10px;
    font-size: 16px;
    width: 100%;
}

button {
    border-radius: 6px;
    border: none;
    cursor: pointer;
}

.controls {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.controls button {
    flex: 1;
}

.add-btn { background: #198754; color: white; }
.clear-btn { background: #6c757d; color: white; }
.calc-btn { background: var(--primary); color: white; }
.remove-btn { background: #dc3545; color: white; }

.subject {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
    margin-bottom: 10px;
}

table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
}

.table-wrapper {
    overflow-x: auto;
    margin-top: 15px;
}

th, td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
    white-space: nowrap;
}

th {
    background: var(--primary);
    color: white;
}

.result {
    margin-top: 20px;
    padding: 15px;
    background: #eef2f7;
    border-radius: 8px;
    font-weight: bold;
    text-align: center;
    font-size: 18px;
}

.hidden { display: none; }

/* DESKTOP ENHANCEMENTS */
@media (min-width: 768px) {
    select, input, button {
        width: auto;
    }

    .subject {
        grid-template-columns: 2fr 1fr 1fr auto;
        align-items: center;
    }

    .menu select {
        width: 60%;
    }
}
</style>
</head>

<body>

<div class="container">
<h1>QPI Calculator</h1>

<div class="menu">
    <label><strong>Select Curriculum</strong></label><br>
    <select id="mode" onchange="switchMode()">
        <option value="flex">No Specified Curriculum</option>
        <option value="BS CHEM 1 - 1ST SEM">BS CHEM 1 â€“ 1st Sem</option>
        <option value="BS CHEM 1 - 2ND SEM">BS CHEM 1 â€“ 2nd Sem</option>
        <option value="BS CHEM 1 - INTERCESSION">BS CHEM 1 â€“ Intercession</option>
        <option value="BS CHEM 2 - 1ST SEM">BS CHEM 2 â€“ 1st Sem</option>
        <option value="BS CHEM 2 - 2ND SEM">BS CHEM 2 â€“ 2nd Sem</option>
        <option value="BS CHEM 3 - 1ST SEM">BS CHEM 3 â€“ 1st Sem</option>
        <option value="BS CHEM 3 - 2ND SEM">BS CHEM 3 â€“ 2nd Sem</option>
        <option value="BS CHEM 3 - INTERCESSION">BS CHEM 3 â€“ Intercession</option>
        <option value="BS CHEM 4 - 1ST SEM">BS CHEM 4 â€“ 1st Sem</option>
        <option value="BS CHEM 4 - 2ND SEM">BS CHEM 4 â€“ 2nd Sem</option>
    </select>
</div>

<!-- FLEX MODE -->
<div id="flexCalculator">
    <div id="subjects"></div>

    <div class="controls">
        <button class="add-btn" onclick="addSubject()">Add Subject</button>
        <button class="clear-btn" onclick="clearSubjects()">Clear All</button>
        <button class="calc-btn" onclick="calculateFlexQPI()">Calculate QPI</button>
    </div>
</div>

<!-- CURRICULUM MODE -->
<div id="curriculumCalculator" class="hidden">
    <h2 id="curriculumTitle"></h2>

    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>Units</th>
                    <th>Grade</th>
                </tr>
            </thead>
            <tbody id="curriculumTable"></tbody>
        </table>
    </div>
</div>

<div class="result" id="result">QPI: â€”</div>
</div>

<script>
const gradeValues={A:4,"A-":3.5,B:3,"B-":2.5,C:2,D:1,F:0};

const curricula={
"BS CHEM 1 - 1ST SEM":[["CHEM 101.1",3],["CHEM 101L",2],["GE 13",3],["XFP",3],["PHYS 11L",1],["PHYS 11",3],["PE 11",2],["GE 18",3],["MATH 112",4]],
"BS CHEM 1 - 2ND SEM":[["THEO 1",3],["GE 14",3],["EESP 10",3],["IDE 10.2",3],["PHYS 12",3],["PHYS 12L",1],["MATH 120",4],["CHEM 141",3],["PATHFIT 2",2]],
"BS CHEM 1 - INTERCESSION":[["GE 19 (STS)",3],["GE 15 (ETHICS)",3]],
"BS CHEM 2 - 1ST SEM":[["IDE 20.14",3],["MATH 137",3],["GE 16 (MIMW)",3],["GE 11 (ARTS)",3],["GE 12",3],["CHEM 125",3],["CHEM 125L",2],["CHEM 151",3],["CHEM 151L",2],["PATHFIT 3",2]],
"BS CHEM 2 - 2ND SEM":[["IDE 30.1",3],["CHEM 161",3],["CHEM 161L",2],["CHEM 126",3],["CHEM 126L",2],["CHEM 152",3],["CHEM 152L",2],["PATHFIT 4",2],["GE 17",3]],
"BS CHEM 3 - 1ST SEM":[["CHEM 182",3],["THEO 2",3],["CHEM 131L",2],["CHEM 131",3],["CHEM 162",3],["CHEM 162L",2],["CHEM 127",3],["CHEM 127L",1],["FL 1",3],["CHEM 170.1",1],["CHEM 170",1]],
"BS CHEM 3 - 2ND SEM":[["CHEM 181",3],["BIO 110",3],["BIO 110L",2],["CHEM 163",3],["CHEM 132",3],["CHEM 132L",1],["CHEM 174",1],["CHEM 142",3],["CHEM 142L",1],["PHILO REL",3],["CHEM 171",1]],
"BS CHEM 3 - INTERCESSION":[["CHEM 172",1]],
"BS CHEM 4 - 1ST SEM":[["CHEM 176",3],["CHEM 193",3],["CHEM 173",1]],
"BS CHEM 4 - 2ND SEM":[["CHEM 175",3],["CHEM 177",3]]
};

function switchMode(){
const m=mode.value;
flexCalculator.classList.toggle("hidden",m!=="flex");
curriculumCalculator.classList.toggle("hidden",m==="flex");
result.textContent="QPI: â€”";
if(m!=="flex") loadCurriculum(m);
}

function loadCurriculum(n){
curriculumTitle.textContent=n;
curriculumTable.innerHTML="";
curricula[n].forEach(s=>{
curriculumTable.innerHTML+=`
<tr>
<td>${s[0]}</td>
<td>${s[1]}</td>
<td>
<select onchange="calculateCurriculumQPI()">
${Object.keys(gradeValues).map(g=>`<option ${g==="A"?"selected":""}>${g}</option>`).join("")}
</select>
</td>
</tr>`;
});
calculateCurriculumQPI();
}

function calculateCurriculumQPI(){
let p=0,u=0;
document.querySelectorAll("#curriculumTable tr").forEach((r,i)=>{
const g=r.children[2].querySelector("select").value;
p+=gradeValues[g]*curricula[mode.value][i][1];
u+=curricula[mode.value][i][1];
});
displayResult(p,u);
}

function addSubject(){
subjects.innerHTML+=`
<div class="subject">
<input placeholder="Subject">
<input type="number" placeholder="Units">
<select>${Object.keys(gradeValues).map(g=>`<option>${g}</option>`).join("")}</select>
<button class="remove-btn" onclick="this.parentElement.remove()">Remove</button>
</div>`;
}

function clearSubjects(){ subjects.innerHTML=""; result.textContent="QPI: â€”"; }

function calculateFlexQPI(){
let p=0,u=0;
document.querySelectorAll(".subject").forEach(s=>{
const un=parseFloat(s.children[1].value);
const g=s.children[2].value;
if(!isNaN(un)){ p+=un*gradeValues[g]; u+=un; }
});
displayResult(p,u);
}

function displayResult(p,u){
if(!u){ result.textContent="QPI: â€”"; return; }
const q=(p/u).toFixed(2);
result.textContent=`QPI: ${q} ${q>=3.35?`â€” Deanâ€™s List ðŸŽ‰ ${q>=3.7?"(First Honors)":"(Second Honors)"}`:"â€” Not Qualified"}`;
}

addSubject();
</script>

</body>
</html>

        <script>
          try {
            // JavaScript Logic
const button = document.getElementById('actionBtn');
const output = document.getElementById('output');
let count = 0;

button.addEventListener('click', () => {
  count++;
  
  // Update the output text with animation
  output.style.opacity = 0;
  
  setTimeout(() => {
    output.textContent = `You clicked the button ${count} times!`;
    output.style.transition = 'opacity 0.3s ease';
    output.style.opacity = 1;
  }, 150);
  
  // Change button text temporarily
  const originalText = button.textContent;
  button.textContent = 'Clicked!';
  
  setTimeout(() => {
    button.textContent = originalText;
  }, 500);
});

console.log('HTMLRunner environment ready.');
          } catch (err) {
            console.error('Runtime Error:', err);
            document.body.innerHTML += '<div style="color:red; background:#ffe6e6; padding:10px; margin-top:20px; border-radius:4px; border:1px solid red;"><strong>Runtime Error:</strong> ' + err.message + '</div>';
          }
        </script>
      </body>
    </html>
  